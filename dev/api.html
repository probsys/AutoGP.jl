<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>AutoGP API · AutoGP</title><meta name="title" content="AutoGP API · AutoGP"/><meta property="og:title" content="AutoGP API · AutoGP"/><meta property="twitter:title" content="AutoGP API · AutoGP"/><meta name="description" content="Documentation for AutoGP."/><meta property="og:description" content="Documentation for AutoGP."/><meta property="twitter:description" content="Documentation for AutoGP."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.svg" alt="AutoGP logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">AutoGP</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="tutorials/overview.html">Overview</a></li><li><a class="tocitem" href="tutorials/iclaims.html">Insurance Claims</a></li><li><a class="tocitem" href="tutorials/callbacks.html">Inspecting Online Inference</a></li><li><a class="tocitem" href="tutorials/decomposition.html">Time Series Decomposition</a></li><li><a class="tocitem" href="tutorials/greedy_mcmc.html">Greedy Search and MCMC</a></li></ul></li><li class="is-active"><a class="tocitem" href="api.html">AutoGP API</a><ul class="internal"><li><a class="tocitem" href="#Model-Initialization"><span>Model Initialization</span></a></li><li><a class="tocitem" href="#end_to_end_model_fitting"><span>End-to-End Model Fitting</span></a></li><li><a class="tocitem" href="#Incremental-Model-Fitting"><span>Incremental Model Fitting</span></a></li><li><a class="tocitem" href="#model_querying"><span>Model Querying</span></a></li></ul></li><li><a class="tocitem" href="gp.html">Gaussian Process Library</a></li><li><a class="tocitem" href="utils.html">Utilities</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="api.html">AutoGP API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="api.html">AutoGP API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/probsys/AutoGP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/probsys/AutoGP.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="AutoGP-API"><a class="docs-heading-anchor" href="#AutoGP-API">AutoGP API</a><a id="AutoGP-API-1"></a><a class="docs-heading-anchor-permalink" href="#AutoGP-API" title="Permalink"></a></h1><p>The purpose of this package is to automatically infer Gaussian process (GP) models of time series data, hence the name AutoGP.</p><p>At a high level, a Gaussian process <span>$\{X(t) \mid t \in T \}$</span> is a family of random variables indexed by some set <span>$T$</span>. For time series data, the index set <span>$T = \mathbb{R}$</span> is typically (a subset) of the real numbers. For any list of <span>$n$</span> time points <span>$[t_1, \dots, t_n]$</span>, the prior distribution of the random vector <span>$[X(t_1), \dots, X(t_n)]$</span> is a multivariate Gaussian,</p><p class="math-container">\[\begin{aligned}
    \begin{bmatrix}
        X(t_1)\\
        \vdots \\
        X(t_n)\\
    \end{bmatrix}
\sim \mathrm{MultivariteNormal} \left(
    \begin{bmatrix}
        m(t_1)\\
        \vdots \\
        m(t_n)\\
    \end{bmatrix},
    \begin{bmatrix}
        k_\theta(t_1, t_1) &amp; \dots &amp; k_\theta(t_1, t_n) \\
        \vdots &amp; \ddots &amp; \vdots \\
        k_\theta(t_n, t_1) &amp; \dots &amp; k_\theta(t_n, t_n) \\
    \end{bmatrix}
    \right).
\end{aligned}\]</p><p>In the equation above <span>$m : T \to \mathbb{R}$</span> is the <em>mean function</em> and <span>$k_\theta: T \times T \to \mathbb{R}_{\ge 0}$</span> is the <em>covariance (kernel) function</em> parameterized by <span>$\theta$</span>. We typically assume (without loss of generality) that <span>$m(t) = 0$</span> for all <span>$t$</span> and focus our modeling efforts on the covariance kernel <span>$k_\theta$</span>. The structure of the kernel dictates the qualitative properties of <span>$X$</span>, such as the existence of linear trends, seasonal components, changepoints, etc.; refer to the <a href="https://www.cs.toronto.edu/~duvenaud/cookbook/">kernel cookbook</a> for an overview of these concepts.</p><p>Gaussian processes can be used as priors in Bayesian nonparametric models of time series data <span>$[Y(t_1), \dots, Y(t_n)]$</span> as follows. We assume that each <span>$Y(t_i) = g(X(t_i), \epsilon(t_i))$</span> for some known function <span>$g$</span> and noise process <span>$\epsilon(t_i)$</span>. A common choice is to let <span>$Y$</span> be a copy of <span>$X$</span> corrupted with i.i.d. Gaussian innovations, which gives <span>$Y(t_i) = X(t_i) + \epsilon(t_i)$</span> where <span>$\epsilon(t_i) \sim \mathrm{Normal}(0, \eta)$</span> for some variance <span>$\eta &gt; 0$</span>.</p><p>Writing out the full model</p><p class="math-container">\[\begin{aligned}
k
    &amp;\sim \mathrm{PCFG}
    &amp;&amp;\textrm{(prior over covariance kernel)} \\
[\theta_1, \dots, \theta_{d(k)}]
    &amp;\sim p_{k}
    &amp;&amp; \textrm{(parameter prior)}\\
\eta
    &amp;\sim p_{\eta}
    &amp;&amp;\textrm{(noise prior)} \\
[X(t_1), \dots, X(t_n)]
    &amp;\sim \mathrm{MultivariteNormal}(\mathbf{0}, [k_\theta(t_i,t_j)]_{i,j=1}^n)
    &amp;&amp;\textrm{(Gaussian process)} \\
Y(t_i)
    &amp;\sim \mathrm{Normal}(X(t_i), \eta), i=1,\dots,n
    &amp;&amp;\textrm{(noisy observations)}
\end{aligned}\]</p><p>where PCFG denotes a <a href="https://en.wikipedia.org/wiki/Probabilistic_context-free_grammar">probabilistic-context free grammar</a> that defines a language of covariance kernel expressions <span>$k$</span>,</p><p class="math-container">\[\begin{aligned}
B      &amp;:= \texttt{Linear} \mid \texttt{Periodic} \mid \texttt{GammaExponential} \mid \dots \\
\oplus &amp;:= \texttt{+} \mid \texttt{*} \mid \texttt{ChangePoint} \\
k      &amp;:= B \mid \texttt{(}k_1 \oplus k_2\texttt{)}.
\end{aligned}\]</p><p>and <span>$d(k)$</span> is the number of parameters in expression <span>$k$</span>. Given data <span>$\{(t_i,y_i)\}_{i=1}^n$</span>, AutoGP <a href="api.html#end_to_end_model_fitting">infers</a> likely values of the symbolic structure of the covariance kernel <span>$k$</span>, the kernel parameters <span>$\theta$</span>, and the observation noise variance <span>$\eta$</span>.</p><p>The ability to automatically synthesize covariance kernels in AutoGP is in contrast to existing Gaussian process libraries such as <a href="https://github.com/STOR-i/GaussianProcesses.jl/"><code>GaussianProcess.jl</code></a> <a href="https://scikit-learn.org/stable/modules/gaussian_process.html"><code>sklearn.gaussian_process</code></a>, <a href="https://gpy.readthedocs.io/en/deploy/"><code>GPy</code></a>, and <a href="https://gpytorch.ai/"><code>GPyTorch</code></a>, which all require users to manually specify <span>$k$</span>.</p><p>After model fitting, users can <a href="api.html#model_querying">query the models</a> to generate forecasts, compute probabilities, and inspect qualitative structure.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP" href="#AutoGP"><code>AutoGP</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Main module.</p><p><strong>Exports</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/AutoGP.jl#L15-L21">source</a></section></article><h2 id="Model-Initialization"><a class="docs-heading-anchor" href="#Model-Initialization">Model Initialization</a><a id="Model-Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Initialization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.GPModel" href="#AutoGP.GPModel"><code>AutoGP.GPModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct GPModel</code></pre><p>A <code>GPModel</code> contains covariance kernel structures and parameters for modeling data.</p><p><strong>Fields</strong></p><ul><li><code>pf_state::Gen.ParticleFilterState</code>: Internal particle set.</li><li><code>config::GP.GPConfig=GP.GPConfig()</code>: User-specific customization, refer to <a href="gp.html#AutoGP.GP.GPConfig"><code>GP.GPConfig</code></a>.</li><li><code>ds::IndexType</code>: Observed time points.</li><li><code>y::Vector{&lt;:Real}</code>: Observed time series values.</li><li><code>ds_transform::Transforms.LinearTransform</code>: Transformation of time to direct space.</li><li><code>y_transform::Transforms.LinearTransform</code>: Transformation of observations to direct space.</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">model = GPModel(
    ds::IndexType,
    y::Vector{&lt;:Real};
    n_particles::Integer=8,
    config::GP.GPConfig=GP.GPConfig())</code></pre><p><strong>See also</strong></p><p>To perform learning given the data, refer to</p><ul><li><a href="api.html#AutoGP.fit_smc!"><code>AutoGP.fit_smc!</code></a></li><li><a href="api.html#AutoGP.fit_mcmc!"><code>AutoGP.fit_mcmc!</code></a></li><li><a href="api.html#AutoGP.fit_greedy!"><code>AutoGP.fit_greedy!</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L51-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.num_particles" href="#AutoGP.num_particles"><code>AutoGP.num_particles</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">num_particles(model::GPModel)</code></pre><p>Return the number of particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L130-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.seed!" href="#AutoGP.seed!"><code>AutoGP.seed!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">seed!(seed)</code></pre><p>Set the random seed of the global random number generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L28-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.IndexType" href="#AutoGP.IndexType"><code>AutoGP.IndexType</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IndexType = Union{Vector{&lt;:Real}, Vector{&lt;:Date}, Vector{&lt;:DateTime}}</code></pre><p>Permitted Julia types for Gaussian process time points. <code>Real</code> numbers are ingested directly, treated as time points. Instances of the <code>Dates</code> types are converted to numeric time points by using <a href="https://docs.julialang.org/en/v1/stdlib/Dates/#Dates.datetime2unix"><code>Dates.datetime2unix</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L37-L44">source</a></section></article><h2 id="end_to_end_model_fitting"><a class="docs-heading-anchor" href="#end_to_end_model_fitting">End-to-End Model Fitting</a><a id="end_to_end_model_fitting-1"></a><a class="docs-heading-anchor-permalink" href="#end_to_end_model_fitting" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.fit_smc!" href="#AutoGP.fit_smc!"><code>AutoGP.fit_smc!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fit_smc!(
    model::GPModel;
    schedule::Vector{&lt;:Integer},
    n_mcmc::Int,
    n_hmc::Int,
    shuffle::Bool=true,
    biased::Bool=false,
    adaptive_resampling::Bool=true,
    adaptive_rejuvenation::Bool=false,
    hmc_config::Dict=Dict(),
    verbose::Bool=false,
    check::Bool=false,
    callback_fn::Function=(; kwargs...) -&gt; nothing)</code></pre><p>Infer the structure and parameters of an appropriate <a href="gp.html#gp_cov_kernel">Gaussian process covariance kernel</a> for modeling the observed data. Inference is performed using sequential Monte Carlo.</p><p><strong>Arguments</strong></p><ul><li><code>model::GPModel</code>: Instance of the <code>GPModel</code> to use.</li><li><code>schedule::Vector{&lt;:Integer}</code>: Schedule for incorporating data for SMC, refer to <a href="utils.html#AutoGP.Schedule"><code>Schedule</code></a>.</li><li><code>n_mcmc::Union{Integer,Vector{&lt;:Integer}}</code>: Number of involutive MCMC rejuvenation steps. If vector, must have same length as <code>schedule</code>.</li><li><code>n_hmc::Union{Integer,Vector{&lt;:Integer}}</code>: Number of HMC steps per accepted involutive MCMC step. If vector, must have same length as <code>schedule</code>.</li><li><code>biased::Bool</code>:   Whether to bias the proposal to produce &quot;short&quot; structures.</li><li><code>shuffle::Bool=true</code>: Whether to shuffle indexes <code>ds</code> or incorporate data in the given order.</li><li><code>adaptive_resampling::Bool=true</code>: If <code>true</code> resamples based on ESS threshold, else at each step.</li><li><code>adaptive_rejuvenation::Bool=false</code>: If <code>true</code> rejuvenates only if resampled, else at each step.</li><li><code>hmc_config::Dict</code>: Configuration for HMC inference on numeric parameters. Allowable keys are:<ul><li><code>n_exit::Integer=1</code>: Number of successive rejections after which HMC loop is terminated.</li><li><code>L_param::Integer=10</code> Number of leapfrog steps for kernel parameters.</li><li><code>L_noise::Integer=10</code>: Number of leapfrog steps for noise parameter.</li><li><code>eps_param::Float64=0.02</code>: Step size for kernel parameters.</li><li><code>eps_noise::Float64=0.02</code>: Step size for noise parameter.</li></ul></li><li><code>verbose::Bool=false</code>: Report progress to stdout.</li><li><code>check::Bool=false</code>: Perform dynamic correctness checks during inference.</li><li><code>config::GP.GPConfig=GP.GPConfig()</code>: User-specific customization, refer to <a href="gp.html#AutoGP.GP.GPConfig"><code>GP.GPConfig</code></a>.</li><li><code>callback_fn</code>: A callback for monitoring inference, must be generated by <a href="utils.html#AutoGP.Callbacks.make_smc_callback-Tuple{Function, AutoGP.GPModel}"><code>AutoGP.Callbacks.make_smc_callback</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L171-L209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.fit_mcmc!" href="#AutoGP.fit_mcmc!"><code>AutoGP.fit_mcmc!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fit_mcmc!(
    model::GPModel;
    n_mcmc::Integer,
    n_hmc::Integer,
    biased::Bool=false,
    verbose::Bool=false,
    check::Bool=false,
    callback_fn::Function=(; kwargs...) -&gt; nothing)</code></pre><p>Perform <code>n_mcmc</code> steps of involutive MCMC on the structure, with <code>n_hmc</code> steps of Hamiltonian Monte Carlo sampling on the parameters per accepted involutive MCMC move.</p><p>A <code>callback_fn</code> can be provided to monitor the progress each MCMC step for which at least one particle (i.e, chain) accepted a transition. Its signature must contain a single varargs specifier, which will be populated with keys <code>:model</code>, <code>:step</code>, <code>:elapsed</code>.</p><div class="admonition is-warning" id="Warning-a071b1bca7ea41fe"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-a071b1bca7ea41fe" title="Permalink"></a></header><div class="admonition-body"><p>The <code>callback_fn</code> imposes a roughly 2x runtime overhead as compared to the equivalent <a href="api.html#AutoGP.mcmc_structure!"><code>mcmc_structure!</code></a> method, because parallel execution must be synchronized across the particles to invoke the callback at each step. The <code>:elapsed</code> variable provided to the callback function will still reflect an accurate estimate of the inference runtime without this overhead. If no callback is required, use <a href="api.html#AutoGP.mcmc_structure!"><code>mcmc_structure!</code></a> instead.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L249-L277">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.fit_greedy!" href="#AutoGP.fit_greedy!"><code>AutoGP.fit_greedy!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function fit_greedy!(
        model::GPModel;
        max_depth::Integer=model.config.max_depth,
        verbose::Bool=false,
        check::Bool=false,
        callback_fn::Function=(; kwargs...) -&gt; nothing)</code></pre><p>Infer the structure and parameters of an appropriate <a href="gp.html#gp_cov_kernel">Gaussian process covariance kernel</a> for modeling the observed data. Inference is performed using greedy search, as described in <a href="https://arxiv.org/pdf/1706.02524.pdf#page=11.pdf">Algorithm 2 of Kim and Teh, 2018</a>. It is an error if <code>max_depth</code> is not a finite positive number.</p><p>A <code>callback_fn</code> can be provided to monitor the search progress at each stage. Its signature must contain a single varargs specifier, which will be populated with keys <code>:model</code>, <code>:step</code>, <code>:elapsed</code> at each step of the greedy search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L307-L324">source</a></section></article><h2 id="Incremental-Model-Fitting"><a class="docs-heading-anchor" href="#Incremental-Model-Fitting">Incremental Model Fitting</a><a id="Incremental-Model-Fitting-1"></a><a class="docs-heading-anchor-permalink" href="#Incremental-Model-Fitting" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.add_data!" href="#AutoGP.add_data!"><code>AutoGP.add_data!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_data!(model::GPModel, ds::IndexType, y::Vector{&lt;:Real})</code></pre><p>Incorporate new observations <code>(ds, y)</code> into <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L420-L423">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.remove_data!" href="#AutoGP.remove_data!"><code>AutoGP.remove_data!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remove_data!(model::GPModel, ds::IndexType, y::Vector{&lt;:Real})</code></pre><p>Remove existing observations <code>ds</code> from <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L441-L444">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.maybe_resample!" href="#AutoGP.maybe_resample!"><code>AutoGP.maybe_resample!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">maybe_resample!(model::GPModel, ess_threshold::Real)</code></pre><p>Resample the particle collection in <code>model</code> if ESS is below <code>ess_threshold</code>. Setting <code>ess_threshold = AutoGP.num_particles(model) + 1</code> will ensure that resampling always takes place, since the ESS is upper bounded by the number of particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L464-L470">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.mcmc_structure!" href="#AutoGP.mcmc_structure!"><code>AutoGP.mcmc_structure!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mcmc_structure!(model::GPModel, n_mcmc::Integer, n_hmc::Integer;
    biased::Bool=false, verbose::Bool=false, check::Bool=false)</code></pre><p>Perform <code>n_mcmc</code> steps of involutive MCMC on the structure, with <code>n_hmc</code> steps of Hamiltonian Monte Carlo sampling on the parameters per accepted involutive MCMC move.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L393-L400">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.mcmc_parameters!" href="#AutoGP.mcmc_parameters!"><code>AutoGP.mcmc_parameters!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mcmc_parameters!(model::GPModel, n_hmc::Integer; verbose::Bool=false, check::Bool=false)</code></pre><p>Perform <code>n_hmc</code> steps of Hamiltonian Monte Carlo sampling on the parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L378-L382">source</a></section></article><h2 id="model_querying"><a class="docs-heading-anchor" href="#model_querying">Model Querying</a><a id="model_querying-1"></a><a class="docs-heading-anchor-permalink" href="#model_querying" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.predict" href="#AutoGP.predict"><code>AutoGP.predict</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">predictions = predict(
    model::GPModel,
    ds::IndexType;
    quantiles::Vector{Float64}=Float64[],
    noise_pred::Union{Nothing,Float64}=nothing)</code></pre><p>Return predictions for new index point <code>ds</code>, and optionally quantiles corresponding to the provided <code>quantiles</code> (numbers between 0 and 1, inclusive). By default, the <code>noise_pred</code> of the new data is equal to the inferred <code>noise</code> of the observed data within each particle in <code>model</code>; using <code>noise_pred=0.</code> returns the posterior distribution over the noiseless function values.</p><p>The returned <a href="https://dataframes.juliadata.org/stable/lib/types/#DataFrames.DataFrame"><code>DataFrames.DataFrame</code></a> has columns <code>[&quot;ds&quot;, &quot;particle&quot;, &quot;weight&quot;, &quot;y_mean&quot;]</code>, as well as any additional columns for the requested <code>quantiles</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">julia&gt; ds = [Dates.Date(2020,1,1), Dates.Date(2020,1,2)] # Dates to query
julia&gt; GPModel.predict(model, ds; quantiles=[.025, 0.975])
16×6 DataFrame
 Row │ ds          particle  weight       y_0.025    y_0.975    y_mean
     │ Date        Int64     Float64      Float64    Float64    Float64
─────┼────────────────────────────────────────────────────────────────────
   1 │ 2020-01-01         1  4.97761e-22  -13510.0   14070.6      280.299
   2 │ 2020-01-02         1  4.97761e-22  -13511.0   14071.6      280.299
   3 │ 2020-01-01         2  0.279887       4504.73   8211.43    6358.08
   4 │ 2020-01-02         2  0.279887       4448.06   8154.3     6301.18
   5 │ 2020-01-01         3  0.0748059    -43638.6   65083.0    10722.2
   6 │ 2020-01-02         3  0.0748059    -43662.0   65074.7    10706.4
   7 │ 2020-01-01         4  0.60809      -17582.2   30762.4     6590.06
   8 │ 2020-01-02         4  0.60809      -17588.0   30771.5     6591.78</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L587-L621">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.predict_proba" href="#AutoGP.predict_proba"><code>AutoGP.predict_proba</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function predict_proba(model::GPModel, ds::IndexType, y::Vector{&lt;:Real})</code></pre><p>Compute predictive probability of data <code>y</code> at time points <code>ds</code> under <code>model</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">julia&gt; ds = [Dates.Date(2020,1,1), Dates.Date(2020,1,2)] # Dates to query
julia&gt; y = [0.1, .0.5] # values to query
julia&gt; GPModel.predict(model, ds, y)
7×3 DataFrame
 Row │ particle  weight       logp
     │ Int64     Float64      Float64
─────┼─────────────────────────────────
   1 │        1  0.0287155    -64.2388
   2 │        2  0.0437349    -59.7672
   3 │        3  0.576247     -62.6499
   4 │        4  0.00164846   -59.5311
   5 │        5  0.215255     -61.066
   6 │        6  0.134198     -64.4041
   7 │        7  0.000201078  -68.462</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L652-L674">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.predict_mvn" href="#AutoGP.predict_mvn"><code>AutoGP.predict_mvn</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dist = predict_mvn(model::GPModel, ds::IndexType; noise_pred::Union{Nothing,Float64}=nothing)</code></pre><p>Return an instance of <a href="https://juliastats.org/Distributions.jl/stable/mixture/#Distributions.MixtureModel"><code>Distributions.MixtureModel</code></a> representing the overall posterior predictive distribution for data at index points <code>ds</code>. By default, the <code>noise_pred</code> of the new data is equal to the inferred <code>noise</code> of the observed data within each particle in <code>model</code>; using <code>noise_pred=0.</code> returns the posterior distribution over the noiseless function values.</p><p>The returned <code>dist</code> has precisely <a href="api.html#AutoGP.num_particles"><code>num_particles</code></a><code>(model)</code> components, each of type <a href="https://juliastats.org/Distributions.jl/stable/multivariate/#Distributions.MvNormal"><code>Distributions.MvNormal</code></a>, with weights <a href="api.html#AutoGP.particle_weights"><code>particle_weights</code></a><code>(model)</code>. These objects can be retrieved using <a href="https://juliastats.org/Distributions.jl/stable/mixture/#Distributions.components-Tuple{AbstractMixtureModel}"><code>Distributions.components</code></a> and <a href="https://juliastats.org/Distributions.jl/stable/mixture/#Distributions.probs-Tuple{AbstractMixtureModel}"><code>Distributions.probs</code></a>, respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L475-L490">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.predict_quantile" href="#AutoGP.predict_quantile"><code>AutoGP.predict_quantile</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">(x::Vector, success::Bool) = predict_quantile(
    model::GPModel, ds::IndexType, q::Real;
    noise_pred::Union{Nothing,Float64}=nothing, tol=1e-5, max_iter=1e6)</code></pre><p>Evaluates the inverse cumulative distribution function (CDF) of the multivariate Gaussian mixture model returned by <a href="api.html#AutoGP.predict_mvn"><code>predict_mvn</code></a> at <code>q</code> (between 0 and 1, exclusive) separately for each dimension. The returned vector <code>x</code> has the same length as the index points <code>ds</code>.</p><p><strong>Note</strong></p><p>The inverse CDF is numerically estimated using a binary search algorithm. The keyword arguments <code>tol</code> and <code>max_iter</code>  correspond to the desired absolute tolerance of the estimate and the maximum number of binary search iterations, respectively. The returned Boolean variable <code>success</code> indicates whether the returned value <code>x</code> has been located to within the specified error tolerance.</p><p><strong>See also</strong></p><ul><li><a href="api.html#AutoGP.predict_mvn"><code>predict_mvn</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L518-L540">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.log_marginal_likelihood_estimate" href="#AutoGP.log_marginal_likelihood_estimate"><code>AutoGP.log_marginal_likelihood_estimate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">log_marginal_likelihood_estimate(model::GPModel)</code></pre><p>Return estimate of marginal likelihood of data (in log space).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L124-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.particle_weights" href="#AutoGP.particle_weights"><code>AutoGP.particle_weights</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">particle_weights(model::GPModel)</code></pre><p>Return vector of normalized particle weights.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L112-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.effective_sample_size" href="#AutoGP.effective_sample_size"><code>AutoGP.effective_sample_size</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">effective_sample_size(model::GPModel)</code></pre><p>Return effective sample size (ESS) of weighted particle collection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L118-L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.covariance_kernels" href="#AutoGP.covariance_kernels"><code>AutoGP.covariance_kernels</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">covariance_kernels(model::GPModel; reparameterize::Bool=true)</code></pre><p>Return <a href="gp.html#gp_cov_kernel">Gaussian process covariance kernels</a> in <code>model</code>. If <code>reparameterize</code> is <code>true</code> (default), then the kernel parameters are given in the original data space (more interpretable); otherwise they are given in the transformed space over which parameter inference is performed (useful for debugging).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L136-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.observation_noise_variances" href="#AutoGP.observation_noise_variances"><code>AutoGP.observation_noise_variances</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">observation_noise_variances(model::GPModel; reparameterize::Bool=true)</code></pre><p>Return list of observation noise variances for each particle in <code>model</code>. If <code>reparameterize</code> is <code>true</code> (default), then the kernel parameters are given in the original data space (more interpretable); otherwise they are given in the transformed space over which parameter inference is performed (useful for debugging).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L154-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AutoGP.decompose" href="#AutoGP.decompose"><code>AutoGP.decompose</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function decompose(model::GPModel)</code></pre><p>Decompose each particle within <code>model</code> into its constituent kernels. Supposing that <a href="api.html#AutoGP.num_particles"><code>num_particles</code></a><code>(model)</code> equals <span>$k$</span>, the return value <code>models::Vector{GPModel}</code> of <code>decompose</code> is a length-<span>$k$</span> vector of <a href="api.html#AutoGP.GPModel"><code>GPModel</code></a> instances.</p><p>Therefore, <code>models[i]</code> is a <a href="api.html#AutoGP.GPModel"><code>GPModel</code></a> that represents the decomposition of particle <code>i</code> in <code>model</code> into its constituent kernels. Each particle in <code>models[i]</code> corresponds to a kernel fragment in the covariance for particle <code>i</code> of <code>model</code> (i.e., one particle for each <a href="gp.html#AutoGP.GP.Node"><code>GP.Node</code></a> in the covariance kernel).</p><p>The weights of <code>models[i]</code> are arbitrary and have no meaningful value.</p><p>This function is particularly useful for visualizing the individual time series structures that make up each particle of <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/probsys/AutoGP.jl/blob/f5d88437894a7234dbba4bce61f811afc9f1c30c/src/api.jl#L697-L715">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="tutorials/greedy_mcmc.html">« Greedy Search and MCMC</a><a class="docs-footer-nextpage" href="gp.html">Gaussian Process Library »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 16 September 2025 16:06">Tuesday 16 September 2025</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
